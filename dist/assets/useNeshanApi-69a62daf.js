import{r as u}from"./index-4b638fea.js";import{n as i}from"./MapContainer-a1f86b32.js";const d={inProgress:!1,searchResult:null,geocodingResult:null};function R(){const[e,s]=u.useState(d),t=a=>{s({...a})},c=u.useRef();return{searchAddress:(a,o,n)=>{c.current!=null&&clearTimeout(c.current);const r={...e};r.inProgress=!0,r.searchResult=null,t(r),c.current=setTimeout(()=>{i.searchAddress(a.trim(),o,n).then(({data:l})=>{r.inProgress=!1,r.searchResult=g(l.items),t(r)}).catch(()=>{r.inProgress=!1,t(r)})},1e3)},reverseGeocoding:(a,o)=>{const n={...e};return n.inProgress=!0,t(n),new Promise((r,l)=>{i.reverse(a,o).then(({data:f})=>{r(f)}).catch(l).finally(()=>{n.inProgress=!1,t(n)})})},clearAddressSearch:()=>{s(d)},searchState:e}}function h(e){const s=[];return e.address!=null&&s.push(e.address),e.title!=null&&s.push(e.title),s.join(" - ")}function g(e){const s=[];return e.map(t=>{s.find(c=>h(t)==h(c))==null&&s.push(t)}),s}export{h as g,R as u};
