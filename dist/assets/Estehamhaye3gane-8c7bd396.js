import{u as R,r as s,T as p,j as u,b as t,bA as Y,F as w,bB as j,bC as L,bD as F}from"./index-a6150745.js";import{u as P}from"./useAganceDriver-6f189531.js";import{W as I}from"./WordProcessor-d5d739a2.js";const b="/assets/estelamate3gane-3542137a.docx",U=({handleBackClick:h,title:_})=>{_="استعلام های 3 گانه(تایید گواهینامه ، تشخیص هویت ، مرکز بهداشت)  ";const{authInfo:i}=R(),[G,S]=s.useState(""),[x,g]=s.useState({CREATE:!1,EDIT:!1,DELETE:!1});s.useEffect(()=>{var m,E;let e={CREATE:!1,EDIT:!1,DELETE:!1},a="";(E=(m=i==null?void 0:i.auth)==null?void 0:m.roles)==null||E.map(d=>{d.permissions.map(c=>{c===j&&(e.CREATE=!0),c===L&&(e.EDIT=!0,a+="- update -"),c===F&&(e.DELETE=!0,a+="- delete -")})}),g(e),S(a)},[i]);const[f,C]=s.useState([]),[n,M]=s.useState({}),{result:o}=P("select",null);return s.useEffect(()=>{var e,a;console.log(7),o&&(console.log(8,(e=o==null?void 0:o.data)==null?void 0:e.data),C((a=o==null?void 0:o.data)==null?void 0:a.data))},[o]),s.useEffect(()=>{},[n,f]),s.useState(p(new Date).format("jYYYY/jMM/jDD")),s.useState(p(new Date).format("jYYYY/jMM/jDD")),s.useState(!1),s.useState(""),s.useState(""),s.useState({id:Math.floor(1e4+Math.random()*9e4),title:"",description:"",attachFileName:"",status:"open",createDate:new Date}),u("div",{className:"aganceRegister-component",children:[h&&t("i",{className:"fa fa-arrow-left back-icon",onClick:h}),t("div",{className:"row",children:t("div",{className:"col-12",children:t("div",{className:"page-title",children:t("i",{children:_})})})}),u("div",{className:"row",children:[t("div",{className:"col-12",children:u("div",{className:"form-group",children:[u("span",{children:["    ","کد ملی را وارد کنید","   "]}),u("select",{onChange:async e=>{var m,E,d,c,r,A;const a=f.filter(l=>{var N,T,D;return((N=l==null?void 0:l.details)==null?void 0:N.nat_num)===e.target.value&&((T=l==null?void 0:l.details)==null?void 0:T.nat_num)!==null&&((D=l==null?void 0:l.details)==null?void 0:D.nat_num)!==void 0})[0];console.log(141),M({full_name:a==null?void 0:a.full_name,fatherName:(m=a==null?void 0:a.details)==null?void 0:m.fatherName,nat_num:(E=a==null?void 0:a.details)==null?void 0:E.nat_num,shomare_shenasname:(d=a==null?void 0:a.details)==null?void 0:d.shomare_shenasname,sadere:(c=a==null?void 0:a.details)==null?void 0:c.sadere,image_driverPic:await Y((A=(r=a==null?void 0:a.details)==null?void 0:r.attachFile)==null?void 0:A.driverPic)})},className:"form-control",value:(n==null?void 0:n.nat_num)||"1",children:[t("option",{value:"1",children:"---انتخاب کنید---"}),f.map(e=>{var a;if(e.status==="ACTIVE")return t("option",{value:(a=e==null?void 0:e.details)==null?void 0:a.nat_num,children:e==null?void 0:e.full_name})})]})]})}),t("div",{className:"row",children:t("div",{className:"col-12",children:(n==null?void 0:n.nat_num)&&t(w,{children:t(I,{autoReadFile:!0,wordFile:b,fields:n})})})})]})]})};export{U as default};
