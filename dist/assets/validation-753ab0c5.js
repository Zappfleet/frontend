import{r as f}from"./index-4b638fea.js";function w(r,o){const[h,p]=f.useState({});function c(a,e){return e.split(".").reduce((n,t)=>n&&n[t],a)}function s(){const a={};for(const e in r){const n=[],t=r[e],i=c(o,e);for(const m in t)switch(m){case"required":(i===""||i===void 0||i===null||typeof i=="string"&&i.trim()==="")&&n.push(`فیلد ${(t==null?void 0:t.showName)||e} الزامی می‌باشد`);break;case"min":parseInt(i)<(t==null?void 0:t.min)&&n.push(`مقدار ${(t==null?void 0:t.showName)||e} نباید کمتر از ${t==null?void 0:t.min} باشد`);break;case"pattern":t.pattern&&!t.pattern.test(i)&&n.push(`فرمت ${(t==null?void 0:t.showName)||e} صحیح نمی‌باشد`);break;case"match":i!==c(o,t==null?void 0:t.matchField)&&n.push(`فیلد ${(t==null?void 0:t.showName)||e} باید با ${t==null?void 0:t.matchField} مطابقت داشته باشد`);break}n.length>0&&(a[e]=n)}p(a)}return f.useEffect(()=>{s()},[o]),{errors:h,refreshData:s}}export{w as u};
